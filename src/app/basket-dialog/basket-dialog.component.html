<div class="spinner" *ngIf="loading">
    <mat-spinner ></mat-spinner>
</div>


<div *ngIf="!loading">
<h2>TOTAL PRICE: {{totalPrice}}</h2>
<div class="basket__grid">
    <div class="basket__item" *ngFor="let item of sa">
        <img style="width: 4em; height: 4em;" src="{{item.images[0].imagePath}}" alt="">

        <h1><a (click)="closeDialog()" routerLink="/detailsProduct/{{item.id}}">{{item.productName}}</a></h1>
        <div class="basket__title_remove">

            <h5>Code: {{item.id}}</h5>
            <h3>Price: {{item.price}}</h3>
        </div>

        <div class="basket__amount">
            <button (click)="minusAmount(item)">-</button>
            <h3 >{{item.amount}}</h3>
            <button (click)="plusAmount(item)">+</button>
        </div>
        <button (click)="remove(item)">Remove</button>

    </div>
</div>

<a (click)="closeDialog()" routerLink="/basket">buy</a>

<button *ngIf="sa.length != 0" (click)="showForm()">Buy</button>
<div *ngIf="showOrderForm">

    
          <form (ngSubmit)="sendOrder()" method="POST">

        <div>
            <h2>First name</h2>
            <input type="text" [(ngModel)]="order.costumerName" name="costumerName">
        </div>
        <div>
            <h2>Last name</h2>
            <input type="text" [(ngModel)]="order.costumerLastName" name="costumerLastName">
        </div>
        <div>
            <h2>City</h2>
            <input type="text" [(ngModel)]="order.costumerCity" name="costumerCity">
        </div>
        <div>
            <h2>Address</h2>
            <input type="text" [(ngModel)]="order.costumerAddress" name="costumerAddress">
        </div>
        <div>
            <h2>Postal code</h2>
            <input type="number" [(ngModel)]="order.customerPostalCode" name="costumerPostalCode">
        </div>
        <div>
            <h2>Mobile Phone</h2>
            <input type="tel" [(ngModel)]="order.customerMobilePhone" name="costumerMobilePhone">
        </div>
        <div>
            <h2>Email</h2>
            <input type="email" [(ngModel)]="order.email" name="email">
        </div>
        <button type="submit">Buy</button>


    </form>

</div>
</div>