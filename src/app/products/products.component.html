<div class="products__loading" *ngIf="loading">
    <mat-spinner></mat-spinner>
</div>

<div class="product__grid">
    <ng-container *ngFor="let product of products">
      <div class="product" (mouseleave)="mouseLeave(false, product)" (mouseenter)="mouseEnter(true, product)">
        <div class="product__top_panel">
          <a href="">{{product?.category?.categoryName}}</a>
          <div class="product__compaer_favorite">
              <i class="description-compare product__icon"></i>
              <i class="description-favorite product__icon"></i>
          </div>
        </div>
          <div class="product__image">
              <img src="{{product.image[0].imagePath}}" [alt]="product.productName">
          </div>
          <div class="product__ranking_name">
            <star-rating [starType]="'svg'" [rating]="product.averageRanking" size="small" labelPosition="right" [numOfStars]="5" [showHalfStars]="true" [readOnly]="true"></star-rating>
            <h5>
                <a [@fullWidth]="styleOn && currentProduct === product ? 'max': 'min'" routerLink="/detailsProduct/{{product.id}}">{{product.productName}}</a>
              </h5>
          </div>
          <div class="product__bottom_panel">
              <div class="product__price_button" *ngIf="!topFiveLook">
                  <h5>{{product.productPrice}}₴</h5>
                  <app-buy-button [currentProduct]="product"></app-buy-button>
              </div>
          </div>
        </div>
  </ng-container>
</div>

<!--
<ng-container *ngIf="categoryName === 'all'">
    <div  class="filters">
        <div *ngFor="let brand of brands">
            <input type="checkbox" (change)="filter(brand.name, null)" value="{{brand.name}}">{{brand.name }}({{brand.products.length}})
        </div>
        <hr>
        <div *ngFor="let cpu of cpus">
            <input type="checkbox" (change)="filter(null, cpu.name, null)" value="{{cpu.name}}">{{cpu.name}}
        </div>
        <hr>
        <div *ngFor="let gpu of gpus">
            <input type="checkbox" (change)="filter(null, null, gpu.name)" value="{{gpu.name}}">{{gpu.name}}
        </div>
    </div>

</ng-container>

-->




<!--
<ng-container *ngIf="usualLook">
<div class="products">
    <div *ngIf="products?.length != 0;else message">
        <div class="grid__products" *ngIf="!loading" [ngStyle]="gridStyle" >
            <div (mouseleave)="mouseLeave(false, product)" (mouseenter)="mouseEnter(true, product)" class="product__card" *ngFor="let product of products" [ngStyle]="!showButtons && {'max-height': '13em'} ">
                <button *ngIf="isAdmin" class="card__delete" (click)="deleteProduct(product.id)">X</button>
                <div class="product__info">
                    <img [src]="product.image[0].imagePath" alt="">
                    <h1>
                        <a (click)="addToVisited(product)" routerLink="/detailsProduct/{{product.id}}">{{product.productName}}</a>
                    </h1>
                    <div class="prodcut__category_price">
                      -->
                    <!--<h5>{{product.category.categoryName}}</h5>-->
                    <!--
                        <h3 [ngClass]="product.isGlobalDiscount ? 'product__discount_price' : 'product__price' ">{{product.productPrice}} <span>грн</span></h3>
                        <h4 *ngIf="product.isGlobalDiscount" class="discount">{{product.discountPrice}} <span>грн</span></h4>
                        <h5>{{product.brand.name}}</h5>
                    </div>

                    <div class="grid__buttons">
                    <ng-container *ngIf="product.amountInStock != 0">
                        <button class="button__buy" [@fullWidth]="styleOn && currentProduct === product ? 'max': 'min'" *ngIf="!product.showButton;else inBasket" (click)="addToCart(product)">
                            <span  class="material-icons basket_icon">shopping_basket</span>
                            <span class="span__buy" [ngClass]="{'span__buy_hover':styleOn && currentProduct === product}" >Buy</span>
                        </button>
                    </ng-container>
                    <button  class="button__buy" *ngIf="product.amountInStock === 0;" (click)="remindMeDiaglog(product)">Remind me</button>

                    <button mat-icon-button color="warn" aria-label="Example icon-button with a heart icon">
                            <mat-icon>favorite</mat-icon>
                          </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</ng-container>
-->

<!--
<ng-container *ngIf="topFiveLook">
    <div class="products">
        <div *ngIf="products?.length != 0;else message">
            <div class="grid__products" *ngIf="!loading" [ngStyle]="gridStyle" >
                <div (mouseleave)="mouseLeave(false, product)" (mouseenter)="mouseEnter(true, product)" class="product__card" *ngFor="let product of productsFromComponent" [ngStyle]="!showButtons && {'max-height': '13em'} ">
                    <div class="product__info">
                        <img [src]="product.image[0].imagePath" alt="">
                        <h1>
                            <a (click)="addToVisited(product)" routerLink="/detailsProduct/{{product.id}}">{{product.productName}}</a>
                        </h1>
                        <div class="prodcut__category_price">
                        -->
                        <!--<h5>{{product.category.categoryName}}</h5>-->
                         <!--
                            <h3 [ngClass]="product.isGlobalDiscount ? 'product__discount_price' : 'product__price' ">{{product.productPrice}} <span>грн</span></h3>
                            <h4 *ngIf="product.isGlobalDiscount" class="discount">{{product.discountPrice}} <span>грн</span></h4>
                            <h5>{{product.brand.name}}</h5>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    </ng-container>
-->

<!--
    <ng-container *ngIf="adminLook">
        <div class="products">
            <div *ngIf="products?.length != 0;else message">
                <div class="grid__products" *ngIf="!loading" [ngStyle]="gridStyle" >
                    <div (mouseleave)="mouseLeave(false, product)" (mouseenter)="mouseEnter(true, product)" class="product__card" *ngFor="let product of products" [ngStyle]="!showButtons && {'max-height': '13em'} ">
                        <button *ngIf="isAdmin" class="card__delete" (click)="deleteProduct(product.id)">X</button>
                        <button *ngIf="isAdmin" class="card__edit" (click)="edit(product)"><span class="material-icons">
                            edit
                            </span></button>

                        <div class="product__info">
                            <img [src]="product.image[0].imagePath" alt="">
                            <h1>
                                <a (click)="addToVisited(product)" routerLink="/detailsProduct/{{product.id}}">{{product.productName}}</a>
                            </h1>
                            <div class="prodcut__category_price">

                                <h3 [ngClass]="product.isGlobalDiscount ? 'product__discount_price' : 'product__price' ">{{product.productPrice}} <span>грн</span></h3>
                                <h4 *ngIf="product.isGlobalDiscount" class="discount">{{product.discountPrice}} <span>грн</span></h4>
                                <h5>{{product.brand.name}}</h5>
                            </div>
                            <div class="grid__buttons">
                                <button [disabled]="product.amountInStock === 0" class="button__buy" [@fullWidth]="styleOn && currentProduct === product ? 'max': 'min'" *ngIf="!product.showButton;else inBasket" (click)="addToCart(product)">
                                    <span  class="material-icons basket_icon">shopping_basket</span>
                                    <span class="span__buy" [ngClass]="{'span__buy_hover':styleOn && currentProduct === product}" >Buy</span>
                                </button>
                                <button mat-icon-button color="warn" aria-label="Example icon-button with a heart icon">
                                    <mat-icon>favorite</mat-icon>
                                  </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </ng-container>
      -->


<ng-template #message>
    <h1>Nothing</h1>
</ng-template>

